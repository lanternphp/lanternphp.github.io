(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{356:function(t,s,a){"use strict";a.r(s);var n=a(17),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"features"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#features"}},[t._v("#")]),t._v(" Features")]),t._v(" "),s("p",[t._v("A Feature must contain other Features and/or Actions and should extend "),s("code",[t._v("Lantern\\Features\\Feature")])]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("Lantern"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Feature")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[t._v("ExampleFeature")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Feature")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// optionally override the ID automatically assigned")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// push your top-level feature onto a different stack")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("STACK")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// An optional description of this feature")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DESCRIPTION")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ACTIONS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// declare this features actions here")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FEATURES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// declare any features attached to this feature here")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),s("p",[s("strong",[t._v("Example: Defining a Todos Feature")])]),t._v(" "),s("p",[t._v("Let's create a Feature to group all Actions related to managing Todo items.")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Todos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Feature class namespace")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Todos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("CreateTodoAction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Action class")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Todos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UpdateTodoAction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Action class")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Todos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("DeleteTodoAction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Action class")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("Lantern"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Feature")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("Lantern"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AvailabilityBuilder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// For feature-level availability")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("Lantern"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ConstraintsBuilder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// For feature-level constraints")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Support"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Facades"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Config")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[t._v("TodosFeature")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Feature")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: A description for documentation or UI purposes")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DESCRIPTION")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'Manages all Todo list functionality.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// List all Actions belonging directly to this Feature")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ACTIONS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("CreateTodoAction")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("UpdateTodoAction")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("DeleteTodoAction")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... other todo-related actions")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Optional: List any nested Sub-Features")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FEATURES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// NestedFeature::class,")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Note: Features do not support availability checks.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Only constraints are checked when determining if an Action is available.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// If you need common availability logic, consider creating a base Action class")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// that your Actions can extend.")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Define constraints for the entire Feature")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// These constraints are checked when determining if Actions within this Feature are available")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("constraints")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name type-declaration"}},[t._v("ConstraintsBuilder")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$constraints")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Example: Check if the convert binary is present")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Note: The actual implementation doesn't accept error messages")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$constraints")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("extensionIsLoaded")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'convert'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Other examples:")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $constraints->classExists('ZipArchive');")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $constraints->executableIsInstalled('pdftk');")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),s("p",[t._v("Your Feature would then be declared in a parent Feature or in the base "),s("code",[t._v("AppFeatures")]),t._v(" Feature (see "),s("RouterLink",{attrs:{to:"/documentation/installation.html#set-up"}},[t._v("Setup")]),t._v(")")],1),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token php language-php"}},[s("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[t._v("Lantern"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Feature")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[t._v("AppFeatures")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Feature")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DESCRIPTION")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'Top-level feature'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FEATURES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("ExampleFeature")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])])]),s("h2",{attrs:{id:"constraints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#constraints"}},[t._v("#")]),t._v(" Constraints")]),t._v(" "),s("p",[t._v("If a Feature relies on a system-level dependency, then you can declare this as a "),s("code",[t._v("constraint")]),t._v(".")]),t._v(" "),s("p",[t._v("If any declared constraints of a Feature fail to be met then all of its declared Actions will\nbecome unavailable.")]),t._v(" "),s("h3",{attrs:{id:"an-illustration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#an-illustration"}},[t._v("#")]),t._v(" An illustration")]),t._v(" "),s("p",[t._v("Let us say that your app has a Feature that allows a profile picture to be uploaded and resized.")]),t._v(" "),s("p",[t._v("This Feature depends on the "),s("code",[t._v("convert")]),t._v(" binary being present on the command line.")]),t._v(" "),s("p",[t._v("Let's say that, during a server migration, a new server is set-up but ImageMagick is not installed\nand "),s("code",[t._v("convert")]),t._v(" is missing.")]),t._v(" "),s("p",[t._v("You're happy everything seems to have moved over well and appears to be working.")]),t._v(" "),s("h4",{attrs:{id:"scenario-1-without-constraints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scenario-1-without-constraints"}},[t._v("#")]),t._v(" Scenario 1: without Constraints")]),t._v(" "),s("ol",[s("li",[t._v("Some time the next day, you get an email from a customer saying:\n"),s("blockquote",[s("p",[t._v("I'm seeing a server error in your app.")])])]),t._v(" "),s("li",[t._v("You investigate, go back & forth with the customer, trawl through your Laravel logs and realise your mistake.")]),t._v(" "),s("li",[t._v("You rush to fix the problem before more customers get the error.")])]),t._v(" "),s("h4",{attrs:{id:"scenario-2-with-constraints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scenario-2-with-constraints"}},[t._v("#")]),t._v(" Scenario 2: with Constraints")]),t._v(" "),s("ol",[s("li",[t._v("Some time the next day, you get an email from a customer saying:\n"),s("blockquote",[s("p",[t._v("I can't find the button to upload my new profile picture.")])])]),t._v(" "),s("li",[t._v("You know the Constraint has failed, and realise immediately your mistake.")]),t._v(" "),s("li",[t._v("No errors or Exceptions, with a cool head you grab a coffee and set about fixing the problem.")])]),t._v(" "),s("p",[t._v("It's a totally different way of handling the same problem, which leaves you looking more professional.")]),t._v(" "),s("h3",{attrs:{id:"declaring-constraints"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#declaring-constraints"}},[t._v("#")]),t._v(" Declaring Constraints")]),t._v(" "),s("p",[t._v("If your Feature has Constraints to declare, then you must add the following to your class:")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("constraints")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name class-name-fully-qualified type-declaration"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Lantern"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ConstraintsBuilder")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$constraints")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//…")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("More info")]),t._v(" "),s("p",[t._v("Please note that constraints can also be declared in your "),s("RouterLink",{attrs:{to:"/documentation/actions.html#constraints"}},[s("code",[t._v("Actions")])])],1),t._v(" "),s("p",[t._v("For info on the available methods of the "),s("code",[t._v("ConstraintsBuilder")]),t._v(" see "),s("RouterLink",{attrs:{to:"/documentation/constraints.html"}},[t._v("Constraints")]),t._v(".")],1)]),t._v(" "),s("h2",{attrs:{id:"multiple-feature-graphs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#multiple-feature-graphs"}},[t._v("#")]),t._v(" Multiple Feature graphs")]),t._v(" "),s("p",[t._v("It's possible to work with multiple "),s("code",[t._v("Feature")]),t._v(" graphs, thus giving you a way of splitting your "),s("code",[t._v("Actions")]),t._v(" into groups.")]),t._v(" "),s("p",[t._v("To do this, simply specify a "),s("code",[t._v("const STACK = 'my-stack';")]),t._v(" onto your top-most Feature.")]),t._v(" "),s("p",[t._v("This has two effects on your application:")]),t._v(" "),s("ol",[s("li",[t._v("You can now have multiple "),s("code",[t._v("Actions")]),t._v(" with the same "),s("code",[t._v("ID")]),t._v(", as long as they're in different stacks")]),t._v(" "),s("li",[t._v("When checking authorisation, you must prefix the "),s("code",[t._v("Action")]),t._v(" "),s("code",[t._v("ID")]),t._v(" with the stack,"),s("br"),t._v("e.g. "),s("code",[t._v("@can('my-stack.add-todo') … @endcan'")])])]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("Do not declare a STACK on a sub-feature")]),t._v(" "),s("p",[t._v("If you specify an additional stack on a nested sub-feature, a "),s("code",[t._v("Lantern\\LanternException")]),t._v(" will be thrown.")])])])}),[],!1,null,null,null);s.default=e.exports}}]);